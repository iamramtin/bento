---
title: zmq4
type: input
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the contents of:
     lib/input/zmq4.go
-->


Consumes messages from a ZeroMQ socket.


import Tabs from '@theme/Tabs';

<Tabs defaultValue="common" values={[
  { label: 'Common', value: 'common', },
  { label: 'Advanced', value: 'advanced', },
]}>

import TabItem from '@theme/TabItem';

<TabItem value="common">

```yaml
input:
  zmq4:
    urls:
    - tcp://localhost:5555
    bind: false
    socket_type: PULL
    sub_filters: []
```

</TabItem>
<TabItem value="advanced">

```yaml
input:
  zmq4:
    urls:
    - tcp://localhost:5555
    bind: false
    socket_type: PULL
    sub_filters: []
    high_water_mark: 0
    poll_timeout: 5s
```

</TabItem>
</Tabs>

ZMQ4 is supported but currently depends on C bindings. Since this is an
annoyance when building or using Benthos it is not compiled by default.

There is a specific docker tag postfix `-cgo` for C builds containing
ZMQ support.

You can also build it into your project by getting libzmq installed on your
machine, then build with the tag:

```sh
go install -tags "ZMQ4" github.com/Jeffail/benthos/v3/cmd/...
```

ZMQ4 input supports PULL and SUB sockets only. If there is demand for other
socket types then they can be added easily.

## Fields

### `urls`

`array` A list of URLs to connect to. If an item of the list contains commas it will be expanded into multiple URLs.

### `bind`

`bool` Whether to bind to the specified URLs or connect.

### `socket_type`

`string` The socket type to connect as.

Options are: `PULL`, `SUB`.

### `sub_filters`

`array` A list of filters to use when connecting as a `SUB` socket.

### `high_water_mark`

`number` The message high water mark to use.

### `poll_timeout`

`string` The poll timeout to use.


