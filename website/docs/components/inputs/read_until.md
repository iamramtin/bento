---
title: read_until
type: input
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the contents of:
     lib/input/read_until.go
-->


Reads messages from a child input until a consumed message passes a condition,
at which point the input closes.

```yaml
input:
  read_until:
    input: {}
    condition:
      text:
        arg: ""
        operator: equals_cs
        part: 0
      type: text
    restart_input: false
```

Messages are read continuously while the condition returns false, when the
condition returns true the message that triggered the condition is sent out and
the input is closed. Use this type to define inputs where the stream should end
once a certain message appears.

Sometimes inputs close themselves. For example, when the `file` input
type reaches the end of a file it will shut down. By default this type will also
shut down. If you wish for the input type to be restarted every time it shuts
down until the condition is met then set `restart_input` to `true`.

### Metadata

A metadata key `benthos_read_until` containing the value `final` is
added to the first part of the message that triggers the input to stop.

## Fields

### `input`

`object` The child input to consume from.

### `condition`

`object` The [condition](/docs/components/conditions/about) to test messages against.

### `restart_input`

`bool` Whether the input should be reopened if it closes itself before the condition has resolved to true.


