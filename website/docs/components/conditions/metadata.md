---
title: metadata
type: condition
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the contents of:
     lib/condition/metadata.go
-->


Checks a metadata key against an argument according to a chosen [operator](#operators).


import Tabs from '@theme/Tabs';

<Tabs defaultValue="common" values={[
  { label: 'Common', value: 'common', },
  { label: 'Advanced', value: 'advanced', },
]}>

import TabItem from '@theme/TabItem';

<TabItem value="common">

```yaml
# Common config fields, showing default values
metadata:
  operator: equals_cs
  key: ""
  arg: ""
```

</TabItem>
<TabItem value="advanced">

```yaml
# All config fields, showing default values
metadata:
  operator: equals_cs
  key: ""
  arg: ""
  part: 0
```

</TabItem>
</Tabs>

## Fields

### `operator`

An [operator](#operators) to apply.


Type: `string`  
Default: `"equals_cs"`  

### `key`

The key of the metadata field to check.


Type: `string`  
Default: `""`  

### `arg`

An argument to check against. For some operators this field not be required.


Type: `string`  
Default: `""`  

### `part`

The index of a message within a batch to test the condition against. This
field is only applicable when batching messages
[at the input level](/docs/configuration/batching).

Indexes can be negative, and if so the part will be selected from the end
counting backwards starting from -1.


Type: `number`  
Default: `0`  

## Operators

### `enum`

Checks whether the contents of a metadata key matches one of the defined enum
values.

```yaml
metadata:
  operator: enum
  key: foo
  arg:
    - bar
    - baz
    - qux
    - quux
```

### `equals`

Checks whether the contents of a metadata key matches an argument. This operator
is case insensitive.

```yaml
metadata:
  operator: equals
  key: foo
  arg: bar
```

### `equals_cs`

Checks whether the contents of a metadata key matches an argument. This operator
is case sensitive.

```yaml
metadata:
  operator: equals_cs
  key: foo
  arg: BAR
```

### `exists`

Checks whether a metadata key exists.

```yaml
metadata:
  operator: exists
  key: foo
```

### `greater_than`

Checks whether the contents of a metadata key, parsed as a floating point
number, is greater than an argument. Returns false if the metadata value cannot
be parsed into a number.

```yaml
metadata:
  operator: greater_than
  key: foo
  arg: 3
```

### `has_prefix`

Checks whether the contents of a metadata key match one of the provided prefixes.
The arg field can either be a singular prefix string or a list of prefixes.

```yaml
metadata:
  operator: has_prefix
  key: foo
  arg:
    - foo
    - bar
    - baz
```

### `less_than`

Checks whether the contents of a metadata key, parsed as a floating point
number, is less than an argument. Returns false if the metadata value cannot be
parsed into a number.

```yaml
metadata:
  operator: less_than
  key: foo
  arg: 3
```

### `regexp_partial`

Checks whether any section of the contents of a metadata key matches a regular
expression (RE2 syntax).

```yaml
metadata:
  operator: regexp_partial
  key: foo
  arg: "1[a-z]2"
```

### `regexp_exact`

Checks whether the contents of a metadata key exactly matches a regular expression 
(RE2 syntax).

```yaml
metadata:
  operator: regexp_partial
  key: foo
  arg: "1[a-z]2"
```


