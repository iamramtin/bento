---
title: ristretto
type: cache
beta: true
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the contents of:
     lib/cache/ristretto.go
-->

BETA: This component is experimental and therefore subject to change outside of
major version releases.

Stores key/value pairs in a map held in the memory-bound
[Ristretto cache](https://github.com/dgraph-io/ristretto). This cache is more
efficient and appropriate for high-volume use cases than the standard memory
cache.

The add command is non-atomic, and therefore this cache is not suitable for
deduplication.


import Tabs from '@theme/Tabs';

<Tabs defaultValue="common" values={[
  { label: 'Common', value: 'common', },
  { label: 'Advanced', value: 'advanced', },
]}>

import TabItem from '@theme/TabItem';

<TabItem value="common">

```yaml
# Common config fields, showing default values
ristretto:
  ttl: ""
```

</TabItem>
<TabItem value="advanced">

```yaml
# All config fields, showing default values
ristretto:
  ttl: ""
  max_retries: 3
  backoff:
    initial_interval: 1s
    max_interval: 5s
    max_elapsed_time: 30s
```

</TabItem>
</Tabs>

## Fields

### `ttl`

The TTL of each item as a duration string. After this period an item will be eligible for removal during the next compaction.


Type: `string`  
Default: `""`  

```yaml
# Examples

ttl: 60s

ttl: 5m

ttl: 36h
```

### `max_retries`

The maximum number of retries before giving up on the request. If set to zero there is no discrete limit.


Type: `number`  
Default: `3`  

### `backoff`

Control time intervals between retry attempts.


Type: `object`  
Default: `{"initial_interval":"1s","max_elapsed_time":"30s","max_interval":"5s"}`  

### `backoff.initial_interval`

The initial period to wait between retry attempts.


Type: `string`  
Default: `"1s"`  

### `backoff.max_interval`

The maximum period to wait between retry attempts.


Type: `string`  
Default: `"5s"`  

### `backoff.max_elapsed_time`

The maximum period to wait before retry attempts are abandoned. If zero then no limit is used.


Type: `string`  
Default: `"30s"`  


